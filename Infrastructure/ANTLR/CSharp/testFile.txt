using System;

namespace MyNamespace
{
    public class Program
    {
        public IParseTree? GetRuleNodeInChildren(string ruleName, IParseTree parentRule, int initialOffset)
        {
            string suffix = "Context";
            string childRuleName = "";

            // Iterates through all the children and compares if the rule of the child is equal to the ruleName
            for (int j = initialOffset; j < parentRule.ChildCount; j++)
            {
                childRuleName = parentRule.GetChild(j).GetType().ToString();
                childRuleName = childRuleName.Substring(childRuleName.LastIndexOf('+') + 1);
                if (childRuleName.Equals(ruleName + suffix, StringComparison.OrdinalIgnoreCase)) {return parentRule.GetChild(j);}
            }
            return null;
        }
    }
}
